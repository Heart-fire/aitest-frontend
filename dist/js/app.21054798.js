(function(){"use strict";var e={8525:function(e,a,t){var l=t(3751),o=t(641),n=t(953),d=(t(4114),t(33)),u=t.p+"img/logo.47330d3f.png",r=t(5220);const i=e=>((0,o.Qi)("data-v-a6331794"),e=e(),(0,o.jt)(),e),s={id:"userLayout"},p=i((()=>(0,o.Lk)("img",{src:u,class:"logo",alt:"image"},null,-1))),c=i((()=>(0,o.Lk)("div",null,"AI智汇答题平台",-1))),m=i((()=>(0,o.Lk)("a",{href:"https://github.com/Heart-fire",target:"_blank"}," 很多生活中的失败是因为人们在放弃的时候不知道他们离成功已经有多么近了。————————爱迪生 ",-1)));function g(e,a){const t=(0,o.g2)("a-space"),l=(0,o.g2)("a-layout-header"),n=(0,o.g2)("router-view"),d=(0,o.g2)("a-layout-content"),u=(0,o.g2)("a-layout-footer"),r=(0,o.g2)("a-layout");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(r,{style:{"min-height":"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{class:"header"},{default:(0,o.k6)((()=>[(0,o.bF)(t,null,{default:(0,o.k6)((()=>[p,c])),_:1})])),_:1}),(0,o.bF)(d,{class:"content"},{default:(0,o.k6)((()=>[(0,o.bF)(n)])),_:1}),(0,o.bF)(u,{class:"footer"},{default:(0,o.k6)((()=>[m])),_:1})])),_:1})])}var v=t(6262);const f={},b=(0,v.A)(f,[["render",g],["__scopeId","data-v-a6331794"]]);var h=b;const k={NOT_LOGIN:"notLogin",USER:"user",ADMIN:"admin"};var y=k,_=(t(426),t(4335));const F=!1,w=_.A.create({baseURL:F?"http://localhost:8101":"http://118.25.26.219:8101",timeout:6e4,withCredentials:!0});w.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),w.interceptors.response.use((function(e){const{data:a}=e;if(40100===a.code){const a=window.location.pathname,t="/user/login",l=a.includes(t),o=e.request.responseURL.includes("user/get/login");if(!o&&!l){const e=encodeURIComponent(window.location.href);window.location.href=`${t}?redirect=${e}`}}return e}),(function(e){return Promise.reject(e)}));var I=w;async function x(e,a){return I("/api/user/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function T(e){return I("/api/user/get/login",{method:"GET",...e||{}})}async function S(e,a){return I("/api/user/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function R(e,a){return I("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function V(e){return I("/api/user/logout",{method:"POST",...e||{}})}async function L(e,a){return I("/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}var A=t(4445);const C=(0,A.nY)("loginUser",(()=>{const e=(0,n.KR)({userName:"未登录"});async function a(){const a=await T();0===a.data.code&&a.data.data?e.value=a.data.data:e.value={userRole:y.NOT_LOGIN}}function t(a){e.value=a}return{loginUser:e,setLoginUser:t,fetchLoginUser:a}}));var N=t(9886);const P=e=>((0,o.Qi)("data-v-691a15ba"),e=e(),(0,o.jt)(),e),W={id:"big"},M=P((()=>(0,o.Lk)("div",{class:"big-two"},null,-1))),D={id:"userLoginPage"},z=P((()=>(0,o.Lk)("h2",{style:{"margin-bottom":"16px"}},"用户登录",-1))),O={class:"input-group"},K={class:"input-group"},U={class:"actions"},E={class:"other-login-methods"},Y={class:"social-logins"},X=P((()=>(0,o.Lk)("svg",{width:"21",height:"26.666666666666664",viewBox:"0 0 18 20",fill:"none"},[(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.882 9.285c.266.33.535.69.653.94l.024.052c.263.555.5 1.054.843 2.069.354 1.046.917 2.977 0 3.31-.867.313-2.035-1.59-2.035-1.59 0 1.147-.64 2.645-2.02 3.726.51.042 1.204.215 1.609.473.405.259.405.628.183.866-.221.238-1.562.23-3.057.217-1.283-.012-2.615-.081-3.239-.146-.656.068-2.06.15-3.368.155-1.385.006-2.467 0-2.745-.226-.277-.226-.228-.593.079-.83s.993-.445 1.53-.507c-1.382-1.083-2.02-2.58-2.02-3.729 0 0-.67 1.896-1.687 1.59-.754-.227-.57-2.271-.275-3.31.24-.839.43-1.27.647-1.758l.158-.362c.107-.25.32-.556.546-.844 1.206.828 2.701 1.109 2.701 1.109l-.15 1.149a.904.904 0 001.787.264l.19-1.15c5.005.475 8.26-.769 9.646-1.468zm-.692-1.14c.003-.115.005-.237.005-.325 0-3.601-1.835-7.22-6.35-7.22C4.327.6 2.49 4.219 2.49 7.819c0 .085.002.201.004.312.68.23 6.853 2.204 12.696.014z",fill:"#6FADFF"})],-1))),H=P((()=>(0,o.Lk)("svg",{width:"25",height:"25",viewBox:"0 0 48 48",fill:"none"},[(0,o.Lk)("path",{d:"M0 24C0 10.745 10.745 0 24 0s24 10.745 24 24-10.745 24-24 24S0 37.255 0 24z",fill:"#45B035"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.723 19.296c-.159-.009-.319-.01-.48-.01-5.748 0-10.41 3.905-10.41 8.725 0 .789.129 1.553.363 2.28a13.495 13.495 0 01-4.384-.464l-.194-.056-4.132 2.104 1.104-3.458-.104-.067C9.758 26.604 8 23.853 8 20.758c0-5.279 5.116-9.558 11.428-9.558 5.717 0 10.454 3.51 11.295 8.096zm-15.272-.276c-.886 0-1.605-.697-1.605-1.554 0-.859.719-1.553 1.605-1.553.887 0 1.607.694 1.607 1.553 0 .857-.72 1.554-1.607 1.554zm7.954-3.107c.886 0 1.604.694 1.604 1.553 0 .857-.718 1.554-1.604 1.554-.887 0-1.604-.697-1.604-1.554 0-.859.717-1.553 1.604-1.553z",fill:"#fff"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.33 36.142c-5.333 0-9.657-3.615-9.657-8.075 0-4.458 4.324-8.073 9.657-8.073 5.33 0 9.653 3.615 9.653 8.073 0 2.616-1.487 4.94-3.79 6.416l-.089.055.933 2.923-3.489-1.78s-.11.034-.165.048a11.35 11.35 0 01-3.053.413zm-4.717-10.856c0-.724.608-1.312 1.356-1.312.75 0 1.357.588 1.357 1.312 0 .726-.608 1.315-1.357 1.315-.748 0-1.356-.589-1.356-1.315zm6.72 0c0-.724.605-1.312 1.354-1.312.75 0 1.356.588 1.356 1.312 0 .726-.606 1.315-1.356 1.315-.748 0-1.355-.589-1.355-1.315z",fill:"#fff"})],-1))),j=P((()=>(0,o.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none"},[(0,o.Lk)("path",{d:"M0 24C0 10.745 10.745 0 24 0s24 10.745 24 24-10.745 24-24 24S0 37.255 0 24z",fill:"#FF6700"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.684 16H11.47a.265.265 0 00-.269.261V31.91c0 .143.12.26.27.26h3.468c.149 0 .27-.117.27-.26v-12.28c0-.142.12-.26.268-.26h7.476c2.103 0 2.699 1.592 2.699 2.618v9.922c0 .143.12.26.269.26h3.466a.265.265 0 00.27-.26v-11.1c0-.917-.113-2.233-1.307-3.39C27.101 16.208 25.96 16 24.684 16zm11.847 0h-3.47a.265.265 0 00-.268.261V31.91c0 .143.12.26.269.26h3.469a.265.265 0 00.269-.26V16.26a.267.267 0 00-.269-.261zm-17.92 6.233h3.644c.149 0 .27.117.27.258v9.42a.267.267 0 01-.27.261h-3.644a.267.267 0 01-.27-.26v-9.418c0-.144.121-.261.27-.261z",fill:"#fff"})],-1)));var q=(0,o.pM)({__name:"userLoginPage",setup(e){const a=C(),t=(0,r.rd)(),l=(0,n.Kh)({userAccount:"",userPassword:""}),d=async()=>{const e=await R(l);0===e.data.code?(await a.fetchLoginUser(),N.A.success("登录成功"),t.push({path:"/",replace:!0})):N.A.error("登录失败，"+e.data.message)};return(e,a)=>{const t=(0,o.g2)("icon-user"),n=(0,o.g2)("a-input"),u=(0,o.g2)("a-form-item"),r=(0,o.g2)("icon-code"),i=(0,o.g2)("a-input-password"),s=(0,o.g2)("a-button"),p=(0,o.g2)("a-link"),c=(0,o.g2)("icon-github"),m=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",W,[M,(0,o.Lk)("div",D,[z,(0,o.bF)(m,{model:l,style:{width:"480px",margin:"0 auto"},"label-align":"left","auto-label-width":"",onSubmit:d},{default:(0,o.k6)((()=>[(0,o.Lk)("div",O,[(0,o.bF)(t,{class:"icon",size:"20px"}),(0,o.bF)(u,{field:"userAccount",label:"账号"},{default:(0,o.k6)((()=>[(0,o.bF)(n,{class:"input-field",modelValue:l.userAccount,"onUpdate:modelValue":a[0]||(a[0]=e=>l.userAccount=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1})]),(0,o.Lk)("div",K,[(0,o.bF)(r,{class:"icon",size:"20px"}),(0,o.bF)(u,{field:"userPassword",tooltip:"密码不小于 8 位",label:"密码"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{modelValue:l.userPassword,"onUpdate:modelValue":a[1]||(a[1]=e=>l.userPassword=e),class:"input-field",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})]),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",U,[(0,o.bF)(s,{class:"submit-button",type:"primary","html-type":"submit",style:{width:"110px","background-color":"#1386f1"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 登录 ")])),_:1}),(0,o.bF)(p,{class:"register-link",href:"/user/register",type:"outline"},{default:(0,o.k6)((()=>[(0,o.eW)("新用户注册 ")])),_:1})])])),_:1}),(0,o.Lk)("div",E,[(0,o.Lk)("span",null,[(0,o.eW)("使用其他方法注册: （暂未实现） "),(0,o.Lk)("div",Y,[(0,o.bF)(s,{shape:"circle"},{default:(0,o.k6)((()=>[X])),_:1}),(0,o.bF)(s,{shape:"circle"},{default:(0,o.k6)((()=>[H])),_:1}),(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{color:"#000000","font-size":"21px"}})])),_:1}),(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[j])),_:1})])])])])),_:1},8,["model"])])])}}});const $=(0,v.A)(q,[["__scopeId","data-v-691a15ba"]]);var B=$;const G=e=>((0,o.Qi)("data-v-87bc80ca"),e=e(),(0,o.jt)(),e),Q={id:"big"},J=G((()=>(0,o.Lk)("div",{class:"big-two"},null,-1))),Z={id:"userRegisterPage",class:"login-page"},ee=G((()=>(0,o.Lk)("h2",null,"用户注册",-1))),ae={class:"input-group"},te={class:"input-group"},le={class:"input-group"},oe={class:"actions"},ne={class:"other-login-methods"},de={class:"social-logins"},ue=G((()=>(0,o.Lk)("svg",{width:"21",height:"26.666666666666664",viewBox:"0 0 18 20",fill:"none"},[(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.882 9.285c.266.33.535.69.653.94l.024.052c.263.555.5 1.054.843 2.069.354 1.046.917 2.977 0 3.31-.867.313-2.035-1.59-2.035-1.59 0 1.147-.64 2.645-2.02 3.726.51.042 1.204.215 1.609.473.405.259.405.628.183.866-.221.238-1.562.23-3.057.217-1.283-.012-2.615-.081-3.239-.146-.656.068-2.06.15-3.368.155-1.385.006-2.467 0-2.745-.226-.277-.226-.228-.593.079-.83s.993-.445 1.53-.507c-1.382-1.083-2.02-2.58-2.02-3.729 0 0-.67 1.896-1.687 1.59-.754-.227-.57-2.271-.275-3.31.24-.839.43-1.27.647-1.758l.158-.362c.107-.25.32-.556.546-.844 1.206.828 2.701 1.109 2.701 1.109l-.15 1.149a.904.904 0 001.787.264l.19-1.15c5.005.475 8.26-.769 9.646-1.468zm-.692-1.14c.003-.115.005-.237.005-.325 0-3.601-1.835-7.22-6.35-7.22C4.327.6 2.49 4.219 2.49 7.819c0 .085.002.201.004.312.68.23 6.853 2.204 12.696.014z",fill:"#6FADFF"})],-1))),re=G((()=>(0,o.Lk)("svg",{width:"25",height:"25",viewBox:"0 0 48 48",fill:"none"},[(0,o.Lk)("path",{d:"M0 24C0 10.745 10.745 0 24 0s24 10.745 24 24-10.745 24-24 24S0 37.255 0 24z",fill:"#45B035"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.723 19.296c-.159-.009-.319-.01-.48-.01-5.748 0-10.41 3.905-10.41 8.725 0 .789.129 1.553.363 2.28a13.495 13.495 0 01-4.384-.464l-.194-.056-4.132 2.104 1.104-3.458-.104-.067C9.758 26.604 8 23.853 8 20.758c0-5.279 5.116-9.558 11.428-9.558 5.717 0 10.454 3.51 11.295 8.096zm-15.272-.276c-.886 0-1.605-.697-1.605-1.554 0-.859.719-1.553 1.605-1.553.887 0 1.607.694 1.607 1.553 0 .857-.72 1.554-1.607 1.554zm7.954-3.107c.886 0 1.604.694 1.604 1.553 0 .857-.718 1.554-1.604 1.554-.887 0-1.604-.697-1.604-1.554 0-.859.717-1.553 1.604-1.553z",fill:"#fff"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.33 36.142c-5.333 0-9.657-3.615-9.657-8.075 0-4.458 4.324-8.073 9.657-8.073 5.33 0 9.653 3.615 9.653 8.073 0 2.616-1.487 4.94-3.79 6.416l-.089.055.933 2.923-3.489-1.78s-.11.034-.165.048a11.35 11.35 0 01-3.053.413zm-4.717-10.856c0-.724.608-1.312 1.356-1.312.75 0 1.357.588 1.357 1.312 0 .726-.608 1.315-1.357 1.315-.748 0-1.356-.589-1.356-1.315zm6.72 0c0-.724.605-1.312 1.354-1.312.75 0 1.356.588 1.356 1.312 0 .726-.606 1.315-1.356 1.315-.748 0-1.355-.589-1.355-1.315z",fill:"#fff"})],-1))),ie=G((()=>(0,o.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none"},[(0,o.Lk)("path",{d:"M0 24C0 10.745 10.745 0 24 0s24 10.745 24 24-10.745 24-24 24S0 37.255 0 24z",fill:"#FF6700"}),(0,o.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.684 16H11.47a.265.265 0 00-.269.261V31.91c0 .143.12.26.27.26h3.468c.149 0 .27-.117.27-.26v-12.28c0-.142.12-.26.268-.26h7.476c2.103 0 2.699 1.592 2.699 2.618v9.922c0 .143.12.26.269.26h3.466a.265.265 0 00.27-.26v-11.1c0-.917-.113-2.233-1.307-3.39C27.101 16.208 25.96 16 24.684 16zm11.847 0h-3.47a.265.265 0 00-.268.261V31.91c0 .143.12.26.269.26h3.469a.265.265 0 00.269-.26V16.26a.267.267 0 00-.269-.261zm-17.92 6.233h3.644c.149 0 .27.117.27.258v9.42a.267.267 0 01-.27.261h-3.644a.267.267 0 01-.27-.26v-9.418c0-.144.121-.261.27-.261z",fill:"#fff"})],-1)));var se=(0,o.pM)({__name:"userRegisterPage",setup(e){const a=(0,r.rd)(),t=(0,n.Kh)({userAccount:"",userPassword:"",checkPassword:""}),l=async()=>{const e=await L(t);0===e.data.code?(N.A.success("注册成功"),a.push({path:"/user/login",replace:!0})):N.A.error("注册失败，"+e.data.message)};return(e,a)=>{const n=(0,o.g2)("icon-user-add"),d=(0,o.g2)("a-input"),u=(0,o.g2)("a-form-item"),r=(0,o.g2)("icon-code"),i=(0,o.g2)("a-input-password"),s=(0,o.g2)("a-button"),p=(0,o.g2)("a-link"),c=(0,o.g2)("icon-github"),m=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",Q,[J,(0,o.Lk)("div",Z,[ee,(0,o.bF)(m,{model:t,style:{width:"480px",margin:"0 auto"},"label-align":"left","auto-label-width":"",onSubmit:l},{default:(0,o.k6)((()=>[(0,o.Lk)("div",ae,[(0,o.bF)(n,{class:"icon",size:"20px"}),(0,o.bF)(u,{field:"userAccount",label:"账号"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{class:"input-field",modelValue:t.userAccount,"onUpdate:modelValue":a[0]||(a[0]=e=>t.userAccount=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1})]),(0,o.Lk)("div",te,[(0,o.bF)(r,{class:"icon",size:"20px"}),(0,o.bF)(u,{field:"userPassword",tooltip:"密码不小于 8 位",label:"密码"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{modelValue:t.userPassword,"onUpdate:modelValue":a[1]||(a[1]=e=>t.userPassword=e),class:"input-field",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})]),(0,o.Lk)("div",le,[(0,o.bF)(r,{class:"icon",size:"20px"}),(0,o.bF)(u,{field:"checkPassword",tooltip:"确认密码不小于 8 位",label:"确认密码"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{modelValue:t.checkPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>t.checkPassword=e),class:"input-field",placeholder:"请输入确认密码"},null,8,["modelValue"])])),_:1})]),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",oe,[(0,o.bF)(s,{class:"submit-button",type:"primary","html-type":"submit",style:{width:"110px","background-color":"#1386f1"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 注册 ")])),_:1}),(0,o.bF)(p,{class:"register-link",href:"/user/login",type:"outline"},{default:(0,o.k6)((()=>[(0,o.eW)("老用户登录 ")])),_:1})])])),_:1}),(0,o.Lk)("div",ne,[(0,o.Lk)("span",null,[(0,o.eW)("使用其他方法注册: （暂未实现） "),(0,o.Lk)("div",de,[(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[ue])),_:1}),(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[re])),_:1}),(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{color:"#000000","font-size":"21px"}})])),_:1}),(0,o.bF)(s,{shape:"circle",status:"warning"},{default:(0,o.k6)((()=>[ie])),_:1})])])])])),_:1},8,["model"])])])}}});const pe=(0,v.A)(se,[["__scopeId","data-v-87bc80ca"]]);var ce=pe,me=t(4483),ge=(0,o.pM)({__name:"AdminUserPage",setup(e){const a={x:1800,y:1500},t=(0,n.KR)({}),l={current:1,pageSize:10},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await S(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await x({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{s()}));const g=[{title:"id",ellipsis:!0,tooltip:!0,width:150,dataIndex:"id"},{title:"账号",dataIndex:"userAccount"},{title:"用户名",dataIndex:"userName"},{title:"用户头像",dataIndex:"userAvatar",slotName:"userAvatar"},{title:"用户简介",dataIndex:"userProfile"},{title:"权限",dataIndex:"userRole",slotName:"userRole"},{title:"创建时间",dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",fixed:"right",width:150,slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),v=(0,o.g2)("a-form-item"),f=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-image"),k=(0,o.g2)("a-tag"),y=(0,o.g2)("a-space"),_=(0,o.g2)("a-popconfirm"),F=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(v,{field:"userName",label:"用户名"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{"allow-clear":"",modelValue:t.value.userName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.userName=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"userProfile",label:"用户简介"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{"allow-clear":"",modelValue:t.value.userProfile,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.userProfile=e),placeholder:"请输入用户简介"},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(F,{scroll:a,columns:g,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{userAvatar:(0,o.k6)((({record:e})=>[(0,o.bF)(h,{width:"67",src:e.userAvatar},null,8,["src"])])),userRole:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{color:"admin"===e.userRole?"red":"green"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)("admin"===e.userRole?"管理员":"普通用户"),1)])),_:2},1032,["color"])])),_:2},1024)])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const ve=ge;var fe=ve;async function be(e,a){return I("/api/app/add",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function he(e,a){return I("/api/app/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function ke(e,a){return I("/api/app/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function ye(e,a){return I("/api/app/get/vo",{method:"GET",params:{...e},...a||{}})}async function _e(e,a){return I("/api/app/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Fe(e,a){return I("/api/app/list/page/vo",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function we(e,a){return I("/api/app/review",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}const Ie={REVIEWING:0,PASS:1,REJECT:2},xe={0:"待审核",1:"通过",2:"拒绝"},Te={0:"得分类",1:"测评类"},Se={0:"自定义",1:"AI评分"};var Re=(0,o.pM)({__name:"AdminAppPage",setup(e){const a={x:2500,y:2e3},t=(0,n.KR)({}),l={current:1,pageSize:10,sortField:"createTime",sortOrder:"descend"},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await _e(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await he({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)},g=async(e,a,t)=>{if(!e.id)return;const l=await we({id:e.id,reviewStatus:a,reviewMessage:t});0===l.data.code?s():N.A.error("审核失败，"+l.data.message)};(0,o.nT)((()=>{s()}));const v=[{title:"id",ellipsis:!0,tooltip:!0,width:120,dataIndex:"id"},{title:"名称",dataIndex:"appName"},{title:"描述",dataIndex:"appDesc"},{title:"图标",dataIndex:"appIcon",slotName:"appIcon"},{title:"应用类型",dataIndex:"appType",slotName:"appType"},{title:"评分策略",dataIndex:"scoringStrategy",slotName:"scoringStrategy"},{title:"审核状态",width:100,dataIndex:"reviewStatus",slotName:"reviewStatus"},{title:"审核信息",dataIndex:"reviewMessage"},{title:"审核时间",dataIndex:"reviewTime",slotName:"reviewTime"},{title:"审核人 id",width:200,dataIndex:"reviewerId"},{title:"用户 id",width:200,dataIndex:"userId"},{title:"创建时间",dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",fixed:"right",width:230,slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),f=(0,o.g2)("a-form-item"),b=(0,o.g2)("a-button"),h=(0,o.g2)("a-form"),k=(0,o.g2)("a-image"),y=(0,o.g2)("a-tag"),_=(0,o.g2)("a-space"),F=(0,o.g2)("a-popconfirm"),w=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(h,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(f,{field:"appName",label:"应用名称"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.appName=e),placeholder:"请输入应用名称","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(f,{field:"appDesc",label:"应用描述"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.appDesc=e),placeholder:"请输入应用描述","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(b,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(w,{scroll:a,columns:v,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{appIcon:(0,o.k6)((({record:e})=>[(0,o.bF)(k,{width:"80",height:"50",src:e.appIcon},null,8,["src"])])),reviewTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)(e.reviewTime&&(0,n.R1)(me.yf)(e.reviewTime).format("YYYY-MM-DD HH:mm:ss")),1)])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),appType:(0,o.k6)((({record:e})=>[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,{color:0===e.appType?"#0fc6c2":"#ffb400"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Te)[e.appType]),1)])),_:2},1032,["color"])])),_:2},1024)])),scoringStrategy:(0,o.k6)((({record:e})=>[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,{bordered:"",color:0===e.scoringStrategy?"green":"magenta"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Se)[e.scoringStrategy]),1)])),_:2},1032,["color"])])),_:2},1024)])),reviewStatus:(0,o.k6)((({record:e})=>[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,{bordered:"",color:0===e.reviewStatus?"orange":1===e.reviewStatus?"green":"red"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(xe)[e.reviewStatus]),1)])),_:2},1032,["color"])])),_:2},1024)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[e.reviewStatus!==(0,n.R1)(Ie).PASS?((0,o.uX)(),(0,o.Wv)(b,{key:0,status:"success",onClick:a=>g(e,(0,n.R1)(Ie).PASS,"已符合上架要求")},{default:(0,o.k6)((()=>[(0,o.eW)(" 通过 ")])),_:2},1032,["onClick"])):(0,o.Q3)("",!0),e.reviewStatus!==(0,n.R1)(Ie).REJECT?((0,o.uX)(),(0,o.Wv)(b,{key:1,status:"warning",onClick:a=>g(e,(0,n.R1)(Ie).REJECT,"不符合上架要求")},{default:(0,o.k6)((()=>[(0,o.eW)(" 拒绝 ")])),_:2},1032,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(F,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(b,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const Ve=Re;var Le=Ve;async function Ae(e,a){return I("/api/question/add",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ce(e,a){return I("/api/question/ai_generate",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ne(e,a){return I("/api/question/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Pe(e,a){return I("/api/question/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function We(e,a){return I("/api/question/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Me(e,a){return I("/api/question/list/page/vo",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}var De=(0,o.pM)({__name:"AdminQuestionPage",setup(e){const a={x:2e3,y:1200},t=(0,n.KR)({}),l={current:1,pageSize:10},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await We(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await Ne({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{s()}));const g=[{title:"id",dataIndex:"id"},{title:"题目内容",width:1e3,dataIndex:"questionContent",slotName:"questionContent"},{title:"应用 id",dataIndex:"appId"},{title:"用户 id",dataIndex:"userId"},{title:"创建时间",width:170,dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",width:170,dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),v=(0,o.g2)("a-form-item"),f=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-popconfirm"),k=(0,o.g2)("a-space"),y=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(v,{field:"appId",label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appId,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.appId=e),placeholder:"请输入应用 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"userId",label:"用户 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.userId,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.userId=e),placeholder:"请输入用户 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(y,{scroll:a,columns:g,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{questionContent:(0,o.k6)((({record:e})=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(JSON.parse(e.questionContent),(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.title},(0,d.v_)(e),1)))),128))])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const ze=De;var Oe=ze;async function Ke(e,a){return I("/api/scoringResult/add",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ue(e,a){return I("/api/scoringResult/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ee(e,a){return I("/api/scoringResult/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ye(e,a){return I("/api/scoringResult/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Xe(e,a){return I("/api/scoringResult/list/page/vo",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}var He=(0,o.pM)({__name:"AdminScoringResultPage",setup(e){const a={x:1700,y:1200},t=(0,n.KR)({}),l={current:1,pageSize:10},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await Ye(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await Ue({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{s()}));const g=[{title:"id",ellipsis:!0,tooltip:!0,dataIndex:"id"},{title:"名称",dataIndex:"resultName"},{title:"描述",width:250,dataIndex:"resultDesc"},{title:"图片",dataIndex:"resultPicture",slotName:"resultPicture"},{title:"结果属性",dataIndex:"resultProp"},{title:"评分范围",dataIndex:"resultScoreRange"},{title:"应用 id",dataIndex:"appId"},{title:"用户 id",dataIndex:"userId"},{title:"创建时间",width:170,dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",width:170,dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",fixed:"right",width:120,slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),v=(0,o.g2)("a-form-item"),f=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-image"),k=(0,o.g2)("a-popconfirm"),y=(0,o.g2)("a-space"),_=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(v,{field:"resultName",label:"结果名称"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.resultName=e),placeholder:"请输入结果名称","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"resultDesc",label:"结果描述"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.resultDesc=e),placeholder:"请输入结果描述","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"appId",label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appId,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.appId=e),placeholder:"请输入应用 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"userId",label:"用户 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.userId,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.userId=e),placeholder:"请输入用户 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(_,{scroll:a,columns:g,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{resultPicture:(0,o.k6)((({record:e})=>[(0,o.bF)(h,{width:"64",src:e.resultPicture},null,8,["src"])])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const je=He;var qe=je;async function $e(e,a){return I("/api/userAnswer/add",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Be(e,a){return I("/api/userAnswer/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ge(e){return I("/api/userAnswer/generate/id",{method:"GET",...e||{}})}async function Qe(e,a){return I("/api/userAnswer/get/vo",{method:"GET",params:{...e},...a||{}})}async function Je(e,a){return I("/api/userAnswer/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}async function Ze(e,a){return I("/api/userAnswer/my/list/page/vo",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...a||{}})}var ea=(0,o.pM)({__name:"AdminUserAnswerPage",setup(e){const a={x:2e3,y:1200},t=(0,n.KR)({}),l={current:1,pageSize:10},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await Je(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await Be({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{s()}));const g=[{title:"id",width:120,ellipsis:!0,tooltip:!0,dataIndex:"id"},{title:"选项",ellipsis:!0,tooltip:!0,width:200,dataIndex:"choices"},{title:"结果 id",dataIndex:"resultId"},{title:"名称",width:150,dataIndex:"resultName"},{title:"描述",width:250,ellipsis:!0,tooltip:!0,dataIndex:"resultDesc"},{title:"图片",dataIndex:"resultPicture",slotName:"resultPicture"},{title:"应用类型",dataIndex:"appType",slotName:"appType"},{title:"评分策略",dataIndex:"scoringStrategy",slotName:"scoringStrategy"},{title:"得分",dataIndex:"resultScore"},{title:"应用 id",width:170,ellipsis:!0,tooltip:!0,dataIndex:"appId"},{title:"用户 id",width:170,ellipsis:!0,tooltip:!0,dataIndex:"userId"},{title:"创建时间",width:170,dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",width:170,dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",fixed:"right",width:120,slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),v=(0,o.g2)("a-form-item"),f=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-image"),k=(0,o.g2)("a-tag"),y=(0,o.g2)("a-space"),_=(0,o.g2)("a-popconfirm"),F=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(v,{field:"resultName",label:"结果名称"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.resultName=e),placeholder:"请输入结果名称","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"resultDesc",label:"结果描述"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.resultDesc=e),placeholder:"请输入结果描述","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"appId",label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appId,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.appId=e),placeholder:"请输入应用 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"userId",label:"用户 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.userId,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.userId=e),placeholder:"请输入用户 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(F,{scroll:a,columns:g,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{resultPicture:(0,o.k6)((({record:e})=>[(0,o.bF)(h,{width:"64",src:e.resultPicture},null,8,["src"])])),appType:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{color:0===e.appType?"#0fc6c2":"#ffb400"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Te)[e.appType]),1)])),_:2},1032,["color"])])),_:2},1024)])),scoringStrategy:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{bordered:"",color:0===e.scoringStrategy?"green":"magenta"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Se)[e.scoringStrategy]),1)])),_:2},1032,["color"])])),_:2},1024)])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const aa=ea;var ta=aa,la=t(7583);const oa=(0,o.Lk)("h4",{style:{"margin-top":"0"}},"复制分享链接",-1),na=(0,o.Lk)("h4",null,"手机扫码查看",-1),da=["src"];var ua=(0,o.pM)({__name:"ShareModal",props:{link:{default:()=>"https://laoyujianli.com/share/yupi"},title:{default:()=>"分享"}},setup(e,{expose:a}){const t=e,l=(0,n.KR)(),u=(0,n.KR)(!1),r=()=>{u.value=!0};a({openModal:r});const i=()=>{u.value=!1};return la.toDataURL(t.link).then((e=>{l.value=e})).catch((e=>{console.error(e),N.A.error("生成二维码失败，"+e.message)})),(e,a)=>{const t=(0,o.g2)("a-typography-paragraph"),n=(0,o.g2)("a-modal");return(0,o.uX)(),(0,o.Wv)(n,{visible:u.value,"onUpdate:visible":a[0]||(a[0]=e=>u.value=e),footer:!1,onCancel:i},{title:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.title),1)])),default:(0,o.k6)((()=>[oa,(0,o.bF)(t,{copyable:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.link),1)])),_:1}),na,(0,o.Lk)("img",{src:l.value},null,8,da)])),_:1},8,["visible"])}}});const ra=ua;var ia=ra;const sa={style:{height:"204px",overflow:"hidden"}},pa=["src"],ca={style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"}},ma={style:{display:"flex",alignItems:"center",color:"#1D2129"}};var ga=(0,o.pM)({__name:"AppCard",props:{app:{default:()=>({})}},setup(e){const a=e,t=(0,r.rd)(),l=()=>{t.push(`/app/detail/${a.app.id}`)},u=(0,n.KR)(),i=`${window.location.protocol}//${window.location.host}/app/detail/${a.app.id}`,s=e=>{u.value&&u.value.openModal(),e.stopPropagation()};return(e,a)=>{const t=(0,o.g2)("icon-launch"),n=(0,o.g2)("a-avatar"),r=(0,o.g2)("a-typography-text"),p=(0,o.g2)("a-card-meta"),c=(0,o.g2)("a-card");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(c,{class:"appCard",hoverable:"",onClick:l},{actions:(0,o.k6)((()=>[(0,o.Lk)("span",{class:"icon-hover",onClick:s},[(0,o.bF)(t)])])),cover:(0,o.k6)((()=>[(0,o.Lk)("div",sa,[(0,o.Lk)("img",{style:{width:"100%",height:"190px",transform:"translateY(-10px)"},alt:"dessert",src:e.app.appIcon},null,8,pa)])])),default:(0,o.k6)((()=>[(0,o.bF)(p,{title:e.app.appName},{description:(0,o.k6)((()=>[(0,o.Lk)("div",ca,(0,d.v_)(e.app.appDesc),1)])),avatar:(0,o.k6)((()=>[(0,o.Lk)("div",ma,[(0,o.bF)(n,{size:24,"image-url":e.app.user?.userAvatar,style:{marginRight:"8px"}},null,8,["image-url"]),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.app.user?.userName??"无名"),1)])),_:1})])])),_:1},8,["title"])])),_:1}),(0,o.bF)(ia,{ref_key:"shareModalRef",ref:u,link:i,title:"应用分享"},null,512)],64)}}});const va=(0,v.A)(ga,[["__scopeId","data-v-893bd08c"]]);var fa=va;const ba={id:"homePage"};var ha=(0,o.pM)({__name:"HomePage",setup(e){const a={current:1,pageSize:8,sortField:"createTime",sortOrder:"descend"},t=(0,n.KR)({...a}),l=(0,n.KR)([]),u=(0,n.KR)(0),r=async()=>{const e={reviewStatus:Ie.PASS,...t.value},a=await Fe(e);0===a.data.code?(l.value=a.data.data?.records||[],u.value=a.data.data?.total||0):N.A.error("获取数据失败，"+a.data.message)},i=e=>{t.value={...t.value,current:e}},s=(0,n.KR)({}),p=()=>{t.value={...a,...s.value}};return(0,o.nT)((()=>{r()})),(e,a)=>{const n=(0,o.g2)("icon-search"),r=(0,o.g2)("a-input-search"),c=(0,o.g2)("a-form"),m=(0,o.g2)("a-list");return(0,o.uX)(),(0,o.CE)("div",ba,[(0,o.bF)(c,{model:s.value,style:(0,d.Tr)([{marginBottom:"20px"},{"align-items":"center"}]),onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:s.value.appName,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.appName=e),style:{width:"320px"},"button-text":"搜索",placeholder:"快速发现答题应用","search-button":"",size:"large",onClick:p},{"button-icon":(0,o.k6)((()=>[(0,o.bF)(n)])),_:1},8,["modelValue"])])),_:1},8,["model"]),(0,o.bF)(m,{class:"list-demo-action-layout","grid-props":{gutter:[20,20],sm:24,md:12,lg:8,xl:6},bordered:!1,data:l.value,"pagination-props":{pageSize:t.value.pageSize,current:t.value.current,total:u.value},onPageChange:i},{item:(0,o.k6)((({item:e})=>[(0,o.bF)(fa,{app:e},null,8,["app"])])),_:1},8,["data","pagination-props"])])}}});const ka=(0,v.A)(ha,[["__scopeId","data-v-75ddcfe8"]]);var ya=ka;const _a={id:"appDetailPage"},Fa={tooltip:"Please enter username"},wa={style:{display:"flex",alignItems:"center"}};var Ia=(0,o.pM)({__name:"AppDetailPage",props:{id:{default:()=>""}},setup(e){const a=e,t=((0,r.rd)(),(0,n.KR)({})),l=C();let u=l.loginUser?.id;const i=(0,o.EW)((()=>u&&u===t.value.userId)),s=async()=>{if(!a.id)return;const e=await ye({id:a.id});0===e.data.code?t.value=e.data.data:N.A.error("获取数据失败，"+e.data.message)};(0,o.nT)((()=>{s()}));const p=(0,n.KR)(),c=`${window.location.protocol}//${window.location.host}/app/detail/${a.id}`,m=e=>{p.value&&p.value.openModal(),e.stopPropagation()};return(e,a)=>{const l=(0,o.g2)("a-avatar"),u=(0,o.g2)("a-typography-text"),r=(0,o.g2)("a-space"),s=(0,o.g2)("a-button"),g=(0,o.g2)("a-col"),v=(0,o.g2)("a-image"),f=(0,o.g2)("a-row"),b=(0,o.g2)("a-card");return(0,o.uX)(),(0,o.CE)("div",_a,[(0,o.bF)(b,{class:"card"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"margin-bottom":"16px"}},{default:(0,o.k6)((()=>[(0,o.bF)(g,{flex:"auto",class:"content-wrapper"},{default:(0,o.k6)((()=>[(0,o.Lk)("h1",null,(0,d.v_)(t.value.appName),1),(0,o.Lk)("p",null,"简介："+(0,d.v_)(t.value.appDesc),1),(0,o.Lk)("p",null,"应用类型："+(0,d.v_)((0,n.R1)(Te)[t.value.appType]),1),(0,o.Lk)("div",Fa,[(0,o.Lk)("p",null,"应用ID："+(0,d.v_)(t.value.id),1)]),(0,o.Lk)("p",null,"评分策略："+(0,d.v_)((0,n.R1)(Se)[t.value.scoringStrategy]),1),(0,o.Lk)("p",null,[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)(" 作者： "),(0,o.Lk)("div",wa,[(0,o.bF)(l,{size:24,"image-url":t.value.user?.userAvatar,style:{marginRight:"8px"}},null,8,["image-url"]),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(t.value.user?.userName??"无名"),1)])),_:1})])])),_:1})]),(0,o.Lk)("p",null," 创建时间："+(0,d.v_)((0,n.R1)(me.yf)(t.value.createTime).format("YYYY-MM-DD HH:mm:ss")),1),(0,o.bF)(r,{size:"medium"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{type:"primary",href:`/answer/do/${e.id}`},{default:(0,o.k6)((()=>[(0,o.eW)("开始答题 ")])),_:1},8,["href"]),(0,o.bF)(s,{onClick:m},{default:(0,o.k6)((()=>[(0,o.eW)("分享应用")])),_:1}),i.value?((0,o.uX)(),(0,o.Wv)(s,{key:0,href:`/add/question/${e.id}`},{default:(0,o.k6)((()=>[(0,o.eW)("设置题目 ")])),_:1},8,["href"])):(0,o.Q3)("",!0),i.value?((0,o.uX)(),(0,o.Wv)(s,{key:1,href:`/add/scoring_result/${e.id}`},{default:(0,o.k6)((()=>[(0,o.eW)("设置评分 ")])),_:1},8,["href"])):(0,o.Q3)("",!0),i.value?((0,o.uX)(),(0,o.Wv)(s,{key:2,href:`/add/app/${e.id}`},{default:(0,o.k6)((()=>[(0,o.eW)("修改应用")])),_:1},8,["href"])):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(g,{flex:"330px"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{width:"400px",height:"250px",src:t.value.appIcon},null,8,["src"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(ia,{link:c,title:"应用分享",ref_key:"shareModalRef",ref:p},null,512)])}}});const xa=(0,v.A)(Ia,[["__scopeId","data-v-43ae8174"]]);var Ta=xa;const Sa={id:"addAppPage"},Ra=(0,o.Lk)("h2",{style:{"margin-bottom":"32px"}},"创建应用",-1);var Va=(0,o.pM)({__name:"AddAppPage",props:{id:{default:()=>""}},setup(e){const a=e,t=(0,r.rd)(),l=(0,n.KR)({appDesc:"",appIcon:"",appName:"",appType:0,scoringStrategy:0}),d=(0,n.KR)(),u=async()=>{if(!a.id)return;const e=await ye({id:a.id});0===e.data.code&&e.data.data?(d.value=e.data.data,l.value=e.data.data):N.A.error("获取数据失败，"+e.data.message)};(0,o.nT)((()=>{u()}));const i=async()=>{let e;e=a.id?await ke({id:a.id,...l.value}):await be(l.value),0===e.data.code?(N.A.success("操作成功，即将跳转到应用详情页"),setTimeout((()=>{t.push(`/app/detail/${a.id||e.data.data}`)}),1100)):N.A.error("操作失败，"+e.data.message)};return(e,a)=>{const t=(0,o.g2)("a-input"),d=(0,o.g2)("a-form-item"),u=(0,o.g2)("a-option"),r=(0,o.g2)("a-select"),s=(0,o.g2)("a-button"),p=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",Sa,[Ra,(0,o.bF)(p,{model:l.value,style:{width:"480px"},"label-align":"left","auto-label-width":"",onSubmit:i},{default:(0,o.k6)((()=>[(0,o.bF)(d,{field:"appName",tooltip:"创建应用后由管理员统一进行审核,审核成功后可进行后续操作✍️",label:"应用名称"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.appName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.appName=e),placeholder:"请输入应用名称"},null,8,["modelValue"])])),_:1}),(0,o.bF)(d,{field:"appDesc",label:"应用描述"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.appDesc,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.appDesc=e),placeholder:"请输入应用描述"},null,8,["modelValue"])])),_:1}),(0,o.bF)(d,{field:"appIcon",label:"应用图标"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.appIcon,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.appIcon=e),placeholder:"请输入应用图标"},null,8,["modelValue"])])),_:1}),(0,o.bF)(d,{field:"appType",label:"应用类型"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.value.appType,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.appType=e),style:{width:"320px"},placeholder:"请选择应用类型"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(Te),((e,a)=>((0,o.uX)(),(0,o.Wv)(u,{value:Number(a),label:e},null,8,["value","label"])))),256))])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(d,{field:"scoringStrategy",label:"评分策略"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.value.scoringStrategy,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.scoringStrategy=e),style:{width:"320px"},placeholder:"请选择评分策略"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(Se),((e,a)=>((0,o.uX)(),(0,o.Wv)(u,{value:Number(a),label:e},null,8,["value","label"])))),256))])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{type:"primary","html-type":"submit",style:{width:"120px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 提交 ")])),_:1})])),_:1})])),_:1},8,["model"])])}}});const La=Va;var Aa=La,Ca=(0,o.pM)({__name:"AiGenerateQuestionDrawer",props:{appId:{default:()=>""},onSuccess:{},onSSESuccess:{},onSSEStart:{},onSSEClose:{}},setup(e){const a=e,t=(0,n.Kh)({optionNumber:2,questionNumber:10}),l=(0,n.KR)(!1),u=(0,n.KR)(!1),r=(0,n.KR)(!1),i=()=>{l.value=!0},s=()=>{l.value=!1},p=()=>{l.value=!1},c=async()=>{if(!a.appId)return;u.value=!0;const e=await Ce({appId:a.appId,...t});0===e.data.code&&e.data.data.length>0?(a.onSuccess?a.onSuccess(e.data.data):N.A.success("生成题目成功"),p()):N.A.error("操作失败，"+e.data.message),u.value=!1},m=async()=>{if(!a.appId)return;r.value=!0;const e=new EventSource(`http://localhost:8101/api/question/ai_generate/sse?appId=${a.appId}&optionNumber=${t.optionNumber}&questionNumber=${t.questionNumber}`);let l=!0;e.onmessage=function(e){l&&(a.onSSEStart?.(e),p(),l=!l),a.onSSESuccess?.(JSON.parse(e.data))},e.onerror=function(t){t.eventPhase===EventSource.CLOSED?(console.log("关闭连接"),a.onSSEClose?.(t),e.close()):e.close()},r.value=!1};return(e,a)=>{const n=(0,o.g2)("a-button"),g=(0,o.g2)("a-form-item"),v=(0,o.g2)("a-input-number"),f=(0,o.g2)("a-space"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-drawer");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(n,{type:"outline",onClick:i},{default:(0,o.k6)((()=>[(0,o.eW)("AI 生成题目")])),_:1}),(0,o.bF)(h,{width:340,visible:l.value,onOk:s,onCancel:p,unmountOnClose:""},{title:(0,o.k6)((()=>[(0,o.eW)("AI 生成题目")])),default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(b,{model:t,"label-align":"left","auto-label-width":"",onSubmit:c},{default:(0,o.k6)((()=>[(0,o.bF)(g,{label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.appId),1)])),_:1}),(0,o.bF)(g,{field:"questionNumber",label:"题目数量"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{min:"0",max:"20",modelValue:t.questionNumber,"onUpdate:modelValue":a[0]||(a[0]=e=>t.questionNumber=e),placeholder:"请输入题目数量"},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{field:"optionNumber",label:"选项数量"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{min:"0",max:"6",modelValue:t.optionNumber,"onUpdate:modelValue":a[1]||(a[1]=e=>t.optionNumber=e),placeholder:"请输入选项数量"},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{loading:u.value,type:"primary","html-type":"submit",style:{width:"120px"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(u.value?"生成中":"一键生成"),1)])),_:1},8,["loading"]),(0,o.bF)(n,{loading:r.value,style:{width:"120px"},onClick:m},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(r.value?"生成中":"实时生成"),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["visible"])],64)}}});const Na=Ca;var Pa=Na;const Wa={id:"addQuestionPage"},Ma=(0,o.Lk)("h2",{style:{"margin-bottom":"32px"}},"设置题目",-1);var Da=(0,o.pM)({__name:"AddQuestionPage",props:{appId:{default:()=>""}},setup(e){const a=e,t=(0,r.rd)(),l=(0,n.KR)([]),u=e=>{l.value.splice(e,0,{title:"",options:[]})},i=e=>{l.value.splice(e,1)},s=(e,a)=>{e.options||(e.options=[]),e.options.splice(a,0,{key:"",value:""})},p=(e,a)=>{e.options||(e.options=[]),e.options.splice(a,1)},c=(0,n.KR)(),m=async()=>{if(!a.appId)return;const e=await Me({appId:a.appId,current:1,pageSize:1,sortField:"createTime",sortOrder:"descend"});0===e.data.code&&e.data.data?.records?(c.value=e.data.data?.records[0],c.value&&(l.value=c.value.questionContent??[])):N.A.error("获取数据失败，"+e.data.message)};(0,o.nT)((()=>{m()}));const g=async()=>{if(!a.appId||!l.value)return;let e;e=c.value?.id?await Pe({id:c.value.id,questionContent:l.value}):await Ae({appId:a.appId,questionContent:l.value}),0===e.data.code?(N.A.success("操作成功，即将跳转到应用详情页"),setTimeout((()=>{t.push(`/app/detail/${a.appId}`)}),3e3)):N.A.error("操作失败，"+e.data.message)},v=e=>{N.A.success(`AI 生成题目成功，生成 ${e.length} 道题目`),l.value=[...l.value,...e]},f=e=>{l.value=[...l.value,e]},b=e=>{N.A.success("开始生成")},h=e=>{N.A.success("生成完毕")};return(e,a)=>{const t=(0,o.g2)("a-back-top"),n=(0,o.g2)("a-form-item"),r=(0,o.g2)("a-button"),c=(0,o.g2)("a-space"),m=(0,o.g2)("a-input"),k=(0,o.g2)("a-input-number"),y=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",Wa,[Ma,(0,o.bF)(t),(0,o.bF)(y,{model:l.value,style:{width:"480px"},"label-align":"left","auto-label-width":"",onSubmit:g},{default:(0,o.k6)((()=>[(0,o.bF)(n,{label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.appId),1)])),_:1}),(0,o.bF)(n,{label:"题目列表","content-flex":!1,"merge-props":!1},{default:(0,o.k6)((()=>[(0,o.bF)(c,{size:"medium"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{onClick:a[0]||(a[0]=e=>u(l.value.length))},{default:(0,o.k6)((()=>[(0,o.eW)(" 底部添加题目 ")])),_:1}),(0,o.bF)(Pa,{appId:e.appId,onSuccess:v,onSSESuccess:f,onSSEClose:h,onSSEStart:b},null,8,["appId"])])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a},[(0,o.bF)(c,{size:"large"},{default:(0,o.k6)((()=>[(0,o.Lk)("h3",null,"题目 "+(0,d.v_)(a+1),1),(0,o.bF)(r,{size:"small",onClick:e=>u(a+1)},{default:(0,o.k6)((()=>[(0,o.eW)(" 添加题目 ")])),_:2},1032,["onClick"]),(0,o.bF)(r,{size:"small",status:"danger",onClick:e=>i(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" 删除题目 ")])),_:2},1032,["onClick"])])),_:2},1024),(0,o.bF)(n,{field:"posts.post1",label:`题目 ${a+1} 标题`},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:e.title,"onUpdate:modelValue":a=>e.title=a,placeholder:"请输入标题"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),(0,o.bF)(c,{size:"large"},{default:(0,o.k6)((()=>[(0,o.Lk)("h4",null,"题目 "+(0,d.v_)(a+1)+" 选项列表",1),(0,o.bF)(r,{size:"small",onClick:a=>s(e,e.options.length)},{default:(0,o.k6)((()=>[(0,o.eW)(" 底部添加选项 ")])),_:2},1032,["onClick"])])),_:2},1024),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((a,t)=>((0,o.uX)(),(0,o.Wv)(n,{key:t,label:`选项 ${t+1}`,"content-flex":!1,"merge-props":!1},{default:(0,o.k6)((()=>[(0,o.bF)(n,{label:"选项 key"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:a.key,"onUpdate:modelValue":e=>a.key=e,placeholder:"请输入选项 key"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.bF)(n,{label:"选项值"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,placeholder:"请输入选项值"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.bF)(n,{label:"选项结果"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:a.result,"onUpdate:modelValue":e=>a.result=e,placeholder:"请输入选项结果"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.bF)(n,{label:"选项得分"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{modelValue:a.score,"onUpdate:modelValue":e=>a.score=e,placeholder:"请输入选项得分"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.bF)(c,{size:"large"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{size:"mini",onClick:a=>s(e,t+1)},{default:(0,o.k6)((()=>[(0,o.eW)(" 添加选项 ")])),_:2},1032,["onClick"]),(0,o.bF)(r,{size:"mini",status:"danger",onClick:a=>p(e,t)},{default:(0,o.k6)((()=>[(0,o.eW)(" 删除选项 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["label"])))),128))])))),128))])),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{type:"primary","html-type":"submit",style:{width:"120px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 提交 ")])),_:1})])),_:1})])),_:1},8,["model"])])}}});const za=Da;var Oa=za,Ka=(0,o.pM)({__name:"ScoringResultTable",props:{appId:{default:()=>""},doUpdate:{}},setup(e,{expose:a}){const t={x:1700,y:1e3},l=e,u=(0,n.KR)({}),r={current:1,pageSize:6,sortField:"createTime",sortOrder:"descend"},i=(0,n.KR)({...r}),s=(0,n.KR)([]),p=(0,n.KR)(0),c=async()=>{if(!l.appId)return;const e={appId:l.appId,...i.value},a=await Xe(e);0===a.data.code?(s.value=a.data.data?.records||[],p.value=a.data.data?.total||0):N.A.error("获取数据失败，"+a.data.message)};a({loadData:c});const m=()=>{i.value={...r,...u.value}},g=e=>{i.value={...i.value,current:e}},v=async e=>{if(!e.id)return;const a=await Ue({id:e.id});0===a.data.code?c():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{c()}));const f=[{title:"id",width:120,ellipsis:!0,tooltip:!0,dataIndex:"id"},{title:"名称",dataIndex:"resultName"},{title:"描述",dataIndex:"resultDesc"},{title:"图片",dataIndex:"resultPicture",slotName:"resultPicture"},{title:"结果属性",width:200,ellipsis:!0,tooltip:!0,dataIndex:"resultProp"},{title:"评分范围",dataIndex:"resultScoreRange"},{title:"创建时间",dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",fixed:"right",width:150,slotName:"optional"}];return(e,a)=>{const l=(0,o.g2)("a-input"),r=(0,o.g2)("a-form-item"),c=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-image"),k=(0,o.g2)("a-popconfirm"),y=(0,o.g2)("a-space"),_=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:u.value,style:{marginBottom:"25px"},layout:"inline",onSubmit:m},{default:(0,o.k6)((()=>[(0,o.bF)(r,{field:"resultName",label:"结果名称"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:u.value.resultName,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value.resultName=e),placeholder:"请输入结果名称","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(r,{field:"resultDesc",label:"结果描述"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:u.value.resultDesc,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.resultDesc=e),placeholder:"请输入结果描述","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(_,{scroll:t,columns:f,data:s.value,pagination:{showTotal:!0,pageSize:i.value.pageSize,current:i.value.current,total:p.value},onPageChange:g},{resultPicture:(0,o.k6)((({record:e})=>[(0,o.bF)(h,{width:"64",src:e.resultPicture},null,8,["src"])])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.k6)((({record:a})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{status:"success",onClick:t=>e.doUpdate?.(a)},{default:(0,o.k6)((()=>[(0,o.eW)("修改")])),_:2},1032,["onClick"]),(0,o.bF)(k,{content:"您确定要删除吗?",onOk:e=>v(a),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const Ua=Ka;var Ea=Ua;const Ya={id:"addScoringResultPage"},Xa=(0,o.Lk)("h2",{style:{"margin-bottom":"32px"}},"设置评分",-1),Ha=(0,o.Lk)("h2",{style:{"margin-bottom":"32px"}},"评分管理",-1);var ja=(0,o.pM)({__name:"AddScoringResultPage",props:{appId:{default:()=>""}},setup(e){const a=e,t=((0,r.rd)(),(0,n.KR)()),l=(0,n.KR)({resultDesc:"",resultName:"",resultPicture:""}),u=(0,n.KR)(),i=e=>{u.value=e.id,l.value=e},s=async()=>{if(!a.appId)return;let e;e=u.value?await Ee({id:u.value,...l.value}):await Ke({appId:a.appId,...l.value}),0===e.data.code?N.A.success("操作成功"):N.A.error("操作失败，"+e.data.message),t.value&&(t.value.loadData(),u.value=void 0)};return(e,a)=>{const n=(0,o.g2)("a-form-item"),r=(0,o.g2)("a-input"),p=(0,o.g2)("a-input-tag"),c=(0,o.g2)("a-input-number"),m=(0,o.g2)("a-button"),g=(0,o.g2)("a-form");return(0,o.uX)(),(0,o.CE)("div",Ya,[Xa,(0,o.bF)(g,{model:l.value,style:{width:"480px"},"label-align":"left","auto-label-width":"",onSubmit:s},{default:(0,o.k6)((()=>[(0,o.bF)(n,{label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.appId),1)])),_:1}),u.value?((0,o.uX)(),(0,o.Wv)(n,{key:0,label:"修改评分 id"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(u.value),1)])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(n,{field:"resultName",label:"结果名称"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.value.resultName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.resultName=e),placeholder:"请输入结果名称"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,{field:"resultDesc",label:"结果描述"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.value.resultDesc,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.resultDesc=e),placeholder:"请输入结果描述"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,{field:"resultPicture",label:"结果图标"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.value.resultPicture,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.resultPicture=e),placeholder:"请输入结果图标地址"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,{field:"resultProp",label:"结果集"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{modelValue:l.value.resultProp,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.resultProp=e),style:{width:"320px"},placeholder:"请输出结果集，按回车确认","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,{field:"resultScoreRange",label:"结果得分范围"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:l.value.resultScoreRange,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.resultScoreRange=e),placeholder:"请输入结果得分范围"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{type:"primary","html-type":"submit",style:{width:"120px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 提交 ")])),_:1})])),_:1})])),_:1},8,["model"]),Ha,(0,o.bF)(Ea,{appId:e.appId,doUpdate:i,ref_key:"tableRef",ref:t},null,8,["appId"])])}}});const qa=ja;var $a=qa;const Ba={id:"doAnswerPage"},Ga={style:{"margin-bottom":"16px"}},Qa={style:{"margin-top":"24px"}};var Ja=(0,o.pM)({__name:"DoAnswerPage",props:{appId:{default:()=>""}},setup(e){const a=e,t=(0,r.rd)(),l=(0,n.KR)({}),u=(0,n.KR)([]),i=(0,n.KR)(1),s=(0,n.KR)({}),p=(0,o.EW)((()=>s.value?.options?s.value.options.map((e=>({label:`${e.key}. ${e.value}`,value:e.key}))):[])),c=(0,n.KR)(),m=(0,n.Kh)([]),g=(0,n.KR)(!1),v=(0,n.KR)(),f=async()=>{const e=await Ge();0===e.data.code?v.value=e.data.data:N.A.error("获取唯一 id 失败，"+e.data.message)};(0,o.nT)((()=>{f()}));const b=async()=>{if(!a.appId)return;let e=await ye({id:a.appId});0===e.data.code?l.value=e.data.data:N.A.error("获取应用失败，"+e.data.message),e=await Me({appId:a.appId,current:1,pageSize:1,sortField:"createTime",sortOrder:"descend"}),0===e.data.code&&e.data.data?.records?u.value=e.data.data.records[0].questionContent:N.A.error("获取题目失败，"+e.data.message)};(0,o.nT)((()=>{b()})),(0,o.nT)((()=>{s.value=u.value[i.value-1],c.value=m[i.value-1]}));const h=e=>{m[i.value-1]=e},k=async()=>{if(!a.appId||!m)return;g.value=!0;const e=await $e({appId:a.appId,choices:m,id:v.value});0===e.data.code&&e.data.data?t.push(`/answer/result/${e.data.data}`):N.A.error("提交答案失败，"+e.data.message),g.value=!1};return(e,a)=>{const t=(0,o.g2)("a-radio-group"),n=(0,o.g2)("a-button"),r=(0,o.g2)("a-space"),m=(0,o.g2)("a-card");return(0,o.uX)(),(0,o.CE)("div",Ba,[(0,o.bF)(m,{class:"card-b"},{default:(0,o.k6)((()=>[(0,o.Lk)("h1",null,(0,d.v_)(l.value.appName),1),(0,o.Lk)("p",null,(0,d.v_)(l.value.appDesc),1),(0,o.Lk)("h2",Ga,(0,d.v_)(i.value)+"、"+(0,d.v_)(s.value?.title),1),(0,o.Lk)("div",null,[(0,o.bF)(t,{direction:"vertical",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:p.value,onChange:h},null,8,["modelValue","options"])]),(0,o.Lk)("div",Qa,[(0,o.bF)(r,{size:"large"},{default:(0,o.k6)((()=>[i.value<u.value.length?((0,o.uX)(),(0,o.Wv)(n,{key:0,type:"primary",circle:"",disabled:!c.value,onClick:a[1]||(a[1]=e=>i.value+=1)},{default:(0,o.k6)((()=>[(0,o.eW)(" 下一题 ")])),_:1},8,["disabled"])):(0,o.Q3)("",!0),i.value===u.value.length?((0,o.uX)(),(0,o.Wv)(n,{key:1,type:"primary",loading:g.value,circle:"",disabled:!c.value,onClick:k},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(g.value?"AI评分中🤖":"查看结果"),1)])),_:1},8,["loading","disabled"])):(0,o.Q3)("",!0),i.value>1?((0,o.uX)(),(0,o.Wv)(n,{key:2,circle:"",onClick:a[2]||(a[2]=e=>i.value-=1)},{default:(0,o.k6)((()=>[(0,o.eW)(" 上一题 ")])),_:1})):(0,o.Q3)("",!0)])),_:1})])])),_:1})])}}});const Za=Ja;var et=Za;const at={id:"answerResultPage"},tt={style:{display:"flex",alignItems:"center"}};var lt=(0,o.pM)({__name:"AnswerResultPage",props:{id:{default:()=>""}},setup(e){const a=e,t=((0,r.rd)(),(0,n.KR)({})),l=async()=>{if(!a.id)return;const e=await Qe({id:a.id});0===e.data.code?t.value=e.data.data:N.A.error("获取数据失败，"+e.data.message)};return(0,o.nT)((()=>{l()})),(e,a)=>{const l=(0,o.g2)("a-avatar"),u=(0,o.g2)("a-typography-text"),r=(0,o.g2)("a-space"),i=(0,o.g2)("a-button"),s=(0,o.g2)("a-col"),p=(0,o.g2)("a-image"),c=(0,o.g2)("a-row"),m=(0,o.g2)("a-card");return(0,o.uX)(),(0,o.CE)("div",at,[(0,o.bF)(m,{class:"card-a"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{"margin-bottom":"16px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,{flex:"auto",class:"content-wrapper"},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",null,(0,d.v_)(t.value.resultName),1),(0,o.Lk)("h3",null,"结果描述："+(0,d.v_)(t.value.resultDesc),1),(0,o.Lk)("p",null,"应用 id："+(0,d.v_)(t.value.appId),1),(0,o.Lk)("p",null,"结果得分："+(0,d.v_)(t.value.resultScore),1),(0,o.Lk)("p",null,"回答结果 id："+(0,d.v_)(t.value.resultId),1),(0,o.Lk)("p",null,"我的答案："+(0,d.v_)(t.value.choices),1),(0,o.Lk)("p",null,"应用类型："+(0,d.v_)((0,n.R1)(Te)[t.value.appType]),1),(0,o.Lk)("p",null,"评分策略："+(0,d.v_)((0,n.R1)(Se)[t.value.scoringStrategy]),1),(0,o.Lk)("p",null,[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)(" 答题人： "),(0,o.Lk)("div",tt,[(0,o.bF)(l,{size:24,"image-url":t.value.user?.userAvatar,style:{marginRight:"8px"}},null,8,["image-url"]),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(t.value.user?.userName??"无名"),1)])),_:1})])])),_:1})]),(0,o.Lk)("p",null," 答题时间："+(0,d.v_)((0,n.R1)(me.yf)(t.value.createTime).format("YYYY-MM-DD HH:mm:ss")),1),(0,o.bF)(r,{size:"medium"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{type:"primary",href:`/answer/do/${t.value.appId}`},{default:(0,o.k6)((()=>[(0,o.eW)("去答题 ")])),_:1},8,["href"])])),_:1})])),_:1}),(0,o.bF)(s,{flex:"320px"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{width:"100%",src:t.value.resultPicture},null,8,["src"])])),_:1})])),_:1})])),_:1})])}}});const ot=(0,v.A)(lt,[["__scopeId","data-v-ad469da2"]]);var nt=ot,dt=(0,o.pM)({__name:"MyAnswerPage",setup(e){const a={x:1700,y:1200},t=(0,n.KR)({}),l={current:1,pageSize:10,sortField:"createTime",sortOrder:"descend"},u=(0,n.KR)({...l}),r=(0,n.KR)([]),i=(0,n.KR)(0),s=async()=>{const e=await Ze(u.value);0===e.data.code?(r.value=e.data.data?.records||[],i.value=e.data.data?.total||0):N.A.error("获取数据失败，"+e.data.message)},p=()=>{u.value={...l,...t.value}},c=e=>{u.value={...u.value,current:e}},m=async e=>{if(!e.id)return;const a=await Be({id:e.id});0===a.data.code?s():N.A.error("删除失败，"+a.data.message)};(0,o.nT)((()=>{s()}));const g=[{title:"id",ellipsis:!0,tooltip:!0,dataIndex:"id"},{title:"选项",width:180,ellipsis:!0,tooltip:!0,dataIndex:"choices"},{title:"结果序号",ellipsis:!0,tooltip:!0,dataIndex:"resultId"},{title:"名称",width:150,dataIndex:"resultName"},{title:"描述",width:250,ellipsis:!0,tooltip:!0,dataIndex:"resultDesc"},{title:"图片",dataIndex:"resultPicture",slotName:"resultPicture"},{title:"得分",dataIndex:"resultScore"},{title:"应用 id",ellipsis:!0,tooltip:!0,dataIndex:"appId"},{title:"评分策略",dataIndex:"scoringStrategy",slotName:"scoringStrategy"},{title:"创建时间",width:170,dataIndex:"createTime",slotName:"createTime"},{title:"应用类型",fixed:"right",width:105,dataIndex:"appType",slotName:"appType"},{title:"操作",fixed:"right",width:110,slotName:"optional"}];return(e,l)=>{const s=(0,o.g2)("a-input"),v=(0,o.g2)("a-form-item"),f=(0,o.g2)("a-button"),b=(0,o.g2)("a-form"),h=(0,o.g2)("a-image"),k=(0,o.g2)("a-tag"),y=(0,o.g2)("a-space"),_=(0,o.g2)("a-popconfirm"),F=(0,o.g2)("a-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b,{model:t.value,style:{marginBottom:"20px"},layout:"inline",onSubmit:p},{default:(0,o.k6)((()=>[(0,o.bF)(v,{field:"resultName",label:"结果名称"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.resultName=e),placeholder:"请输入结果名称","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"resultDesc",label:"结果描述"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.resultDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.resultDesc=e),placeholder:"请输入结果描述","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,{field:"appId",label:"应用 id"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:t.value.appId,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.appId=e),placeholder:"请输入应用 id","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{type:"primary","html-type":"submit",style:{width:"100px"}},{default:(0,o.k6)((()=>[(0,o.eW)(" 搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.bF)(F,{scroll:a,columns:g,data:r.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:i.value},onPageChange:c},{resultPicture:(0,o.k6)((({record:e})=>[(0,o.bF)(h,{width:"64",src:e.resultPicture},null,8,["src"])])),scoringStrategy:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{bordered:"",color:0===e.scoringStrategy?"green":"magenta"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Se)[e.scoringStrategy]),1)])),_:2},1032,["color"])])),_:2},1024)])),createTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.k6)((({record:e})=>[(0,o.eW)((0,d.v_)((0,n.R1)(me.yf)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),appType:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:0===e.appType?"warning":"success"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(Te)[e.appType]),1)])),_:2},1032,["status"])])),_:2},1024)])),optional:(0,o.k6)((({record:e})=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{content:"您确定要删除吗?",onOk:a=>m(e),type:"warning"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.eW)("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["data","pagination"])],64)}}});const ut=dt;var rt=ut,it=(t(928),t(5925));async function st(e){return I("/api/app/statistic/answer_count",{method:"GET",...e||{}})}async function pt(e,a){return I("/api/app/statistic/answer_result_count",{method:"GET",params:{...e},...a||{}})}const ct=e=>((0,o.Qi)("data-v-184d0269"),e=e(),(0,o.jt)(),e),mt={id:"appStatisticPage"},gt=ct((()=>(0,o.Lk)("h2",{style:{width:"130px","margin-bottom":"15px"}},"应用结果统计",-1))),vt={class:"search-bar"},ft=ct((()=>(0,o.Lk)("h2",null,"热门应用统计",-1)));var bt=(0,o.pM)({__name:"AppStatisticPage",setup(e){const a=(0,n.KR)([]),t=(0,n.KR)([]),l=async()=>{const e=await st();0===e.data.code?a.value=e.data.data||[]:N.A.error("获取数据失败，"+e.data.message)},d=async e=>{if(!e)return;const a=await pt({appId:e});0===a.data.code?t.value=a.data.data||[]:N.A.error("获取数据失败，"+a.data.message)},u=(0,o.EW)((()=>({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",axisLabel:{interval:0,rotate:30},data:a.value.map((e=>e.appId)),name:"应用 ID"},yAxis:{type:"value",name:"用户答案数"},series:[{data:a.value.map((e=>e.answerCount)),type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]}))),r=(0,o.EW)((()=>({title:{text:"应用答案结果分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"left",orient:"vertical",data:t.value.map((e=>e.resultName))},series:[{type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:t.value.map((e=>({value:e.resultCount,name:e.resultName}))),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})));return(0,o.nT)((()=>{l(),d("")})),(e,a)=>{const t=(0,o.g2)("a-tooltip"),l=(0,o.g2)("a-input-search");return(0,o.uX)(),(0,o.CE)("div",mt,[(0,o.bF)(t,{content:"友好提示: 例如输入 1 ",position:"right"},{default:(0,o.k6)((()=>[gt])),_:1}),(0,o.Lk)("div",vt,[(0,o.bF)(l,{style:{width:"330px"},"button-text":"搜索",placeholder:"请输入 appID","search-button":"",size:"large",onSearch:a[0]||(a[0]=e=>d(e))})]),(0,o.bF)((0,n.R1)(it.Ay),{option:r.value,style:{height:"350px","margin-left":"250px"}},null,8,["option"]),ft,(0,o.bF)((0,n.R1)(it.Ay),{option:u.value,style:{height:"500px",width:"1400px"}},null,8,["option"])])}}});const ht=(0,v.A)(bt,[["__scopeId","data-v-184d0269"]]);var kt=ht;const yt=[{path:"/",name:"主页",component:ya},{path:"/add/app",name:"创建应用",component:Aa},{path:"/add/app/:id",name:"修改应用",props:!0,component:Aa,meta:{hideInMenu:!0}},{path:"/add/question/:appId",name:"创建题目",component:Oa,props:!0,meta:{hideInMenu:!0}},{path:"/add/scoring_result/:appId",name:"创建评分",component:$a,props:!0,meta:{hideInMenu:!0}},{path:"/app/detail/:id",name:"应用详情页",props:!0,component:Ta,meta:{hideInMenu:!0}},{path:"/answer/do/:appId",name:"答题",component:et,props:!0,meta:{hideInMenu:!0,access:y.USER}},{path:"/answer/result/:id",name:"答题结果",component:nt,props:!0,meta:{hideInMenu:!0,access:y.USER}},{path:"/answer/my",name:"我的答题",component:rt,meta:{access:y.USER}},{path:"/admin/user",name:"用户管理",component:fe,meta:{access:y.ADMIN}},{path:"/admin/app",name:"应用管理",component:Le,meta:{access:y.ADMIN}},{path:"/admin/question",name:"题目管理",component:Oe,meta:{access:y.ADMIN}},{path:"/admin/scoring_result",name:"评分管理",component:qe,meta:{access:y.ADMIN}},{path:"/admin/user_answer",name:"回答管理",component:ta,meta:{access:y.ADMIN}},{path:"/app_statistic",name:"应用统计",component:kt},{path:"/user",name:"用户",component:h,meta:{hideInMenu:!0},children:[{path:"/user/login",name:"用户登录",component:B},{path:"/user/register",name:"用户注册",component:ce}]}],_t=(e,a=y.NOT_LOGIN)=>{const t=e?.userRole??y.NOT_LOGIN;return a===y.NOT_LOGIN||(a!==y.USER||t!==y.NOT_LOGIN)&&(a!==y.ADMIN||t===y.ADMIN)};var Ft=_t;const wt=e=>((0,o.Qi)("data-v-15ed1a64"),e=e(),(0,o.jt)(),e),It=wt((()=>(0,o.Lk)("div",{class:"title-bar"},[(0,o.Lk)("img",{class:"logo",src:u}),(0,o.Lk)("div",{class:"title"},[(0,o.eW)(" AI智汇答题 "),(0,o.Lk)("b",null,"[体验版]")])],-1))),xt={key:0,style:{"white-space":"nowrap"}},Tt={href:"https://github.com/Heart-fire",target:"_blank"},St=wt((()=>(0,o.Lk)("p",{style:{color:"#2d2d2d"}},"简单介绍:",-1))),Rt=wt((()=>(0,o.Lk)("hr",{style:{color:"#566170"}},null,-1))),Vt=wt((()=>(0,o.Lk)("p",null,[(0,o.eW)("管理员已将"),(0,o.Lk)("b",null,"应用统计"),(0,o.eW)("界面开放")],-1))),Lt=wt((()=>(0,o.Lk)("hr",{style:{color:"#566170"}},null,-1))),At=wt((()=>(0,o.Lk)("p",null,[(0,o.eW)(" SpringBoot+Redis+ChatGLM+RxJava+SSE(+Vue3+Arco Design+Pinia)的Al答题应用平台。"),(0,o.Lk)("br"),(0,o.eW)(" 用户可基于AI快速生成题目并制作应用,经管理员审核后，可在线答题并基于多种评分算法或AI得到回答总结；管理员还可集中管理整站内容，并进行统计分析。 ")],-1))),Ct={class:"menu-item"},Nt={key:1},Pt={class:"tooltip"},Wt={class:"text"},Mt={class:"item"},Dt=wt((()=>(0,o.Lk)("div",{class:"line"},"创建答题应用",-1))),zt={class:"item"},Ot=wt((()=>(0,o.Lk)("div",{class:"line"},"享受优先服务",-1))),Kt={class:"item"},Ut=wt((()=>(0,o.Lk)("div",{class:"line"},"自定义评分规则",-1))),Et={class:"item"},Yt=wt((()=>(0,o.Lk)("div",{class:"line"},"AI快速生成题目",-1)));var Xt=(0,o.pM)({__name:"GlobalHeader",props:{app:{default:()=>({})}},setup(e){const a=C(),t=(0,r.rd)(),l=e=>{t.push({path:e})},u=(0,o.EW)((()=>yt.filter((e=>!e.meta?.hideInMenu&&!!Ft(a.loginUser,e.meta?.access))))),i=(0,n.KR)(["/"]);t.afterEach((e=>{i.value=[e.path]}));const s=async()=>{const e=await V();0===e.data.code?N.A.success("退出成功"):N.A.error("退出失败，"+e.data.message),window.location.reload()};return(e,t)=>{const r=(0,o.g2)("a-menu-item"),p=(0,o.g2)("a-menu"),c=(0,o.g2)("a-col"),m=(0,o.g2)("icon-github"),g=(0,o.g2)("icon-wifi"),v=(0,o.g2)("icon-notification"),f=(0,o.g2)("a-badge"),b=(0,o.g2)("a-space"),h=(0,o.g2)("a-popover"),k=(0,o.g2)("a-avatar"),y=(0,o.g2)("icon-export"),_=(0,o.g2)("a-link"),F=(0,o.g2)("a-popconfirm"),w=(0,o.g2)("a-tag"),I=(0,o.g2)("a-tooltip"),x=(0,o.g2)("a-button"),T=(0,o.g2)("icon-home"),S=(0,o.g2)("icon-user"),R=(0,o.g2)("icon-thumb-up"),V=(0,o.g2)("icon-robot-add"),L=(0,o.g2)("a-row");return(0,o.uX)(),(0,o.Wv)(L,{id:"globalHeader",align:"center",wrap:"false"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{flex:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{mode:"horizontal","selected-keys":i.value,onMenuItemClick:l},{default:(0,o.k6)((()=>[(0,o.bF)(r,{key:"0",style:{padding:0,marginRight:"38px"},disabled:""},{default:(0,o.k6)((()=>[It])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.value,(e=>((0,o.uX)(),(0,o.Wv)(r,{key:e.path},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(e.name),1)])),_:2},1024)))),128))])),_:1},8,["selected-keys"])])),_:1}),(0,o.bF)(c,{flex:"none",style:{display:"flex",alignItems:"center",minWidth:"120px"}},{default:(0,o.k6)((()=>[(0,n.R1)(a).loginUser.id?((0,o.uX)(),(0,o.CE)("div",xt,[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.Lk)("a",Tt,[(0,o.bF)(m,{class:"github"})]),(0,o.bF)(g,{class:"wifi"}),(0,o.bF)(h,{position:"bottom",style:{width:"300px"}},{content:(0,o.k6)((()=>[St,Rt,Vt,Lt,At])),default:(0,o.k6)((()=>[(0,o.bF)(b,{size:40,style:{"margin-right":"15px"}},{default:(0,o.k6)((()=>[(0,o.bF)(f,{count:0,dot:"",offset:[2,-2]},{default:(0,o.k6)((()=>[(0,o.bF)(v,{style:{color:"#3b3838",fontSize:"21px",verticalAlign:"-3px"}})])),_:1})])),_:1})])),_:1}),(0,o.bF)(h,{trigger:"hover",style:{width:"120px"}},{content:(0,o.k6)((()=>[(0,o.bF)(F,{content:"是否登出",position:"bottom",type:"warning",onOk:s},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ct,[(0,o.bF)(_,{status:"danger"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{class:"icon"}),(0,o.eW)(" 退出登录 ")])),_:1})])])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(k,{size:33,"image-url":(0,n.R1)(a).loginUser.userAvatar,style:{marginRight:"1px"}},null,8,["image-url"])])),_:1}),(0,o.bF)(I,{content:(0,n.R1)(a).loginUser.userName??"无名"},{default:(0,o.k6)((()=>[(0,o.bF)(w,{checkable:"",color:"cyan","default-checked":!1,style:{"font-size":"15px","max-width":"100px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)((0,n.R1)(a).loginUser.userName??"无名"),1)])),_:1})])),_:1},8,["content"])])),_:1})])):((0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.bF)(h,{class:"title-two",title:"登录后您可以:",position:"br",style:{width:"290px",height:"150px"}},{content:(0,o.k6)((()=>[(0,o.Lk)("div",Pt,[(0,o.Lk)("div",Wt,[(0,o.Lk)("div",Mt,[(0,o.bF)(T,{class:"icon",size:"15px"}),Dt]),(0,o.Lk)("div",zt,[(0,o.bF)(S,{class:"icon",size:"15px"}),Ot]),(0,o.Lk)("div",Kt,[(0,o.bF)(R,{class:"icon",size:"15px"}),Ut]),(0,o.Lk)("div",Et,[(0,o.bF)(V,{class:"icon",size:"15px"}),Yt])])]),(0,o.bF)(x,{type:"primary",href:"/user/login",class:"button-one"},{default:(0,o.k6)((()=>[(0,o.eW)(" 立即登录 ")])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(x,{type:"primary",href:"/user/login"},{default:(0,o.k6)((()=>[(0,o.eW)(" 登录")])),_:1})])),_:1})]))])),_:1})])),_:1})}}});const Ht=(0,v.A)(Xt,[["__scopeId","data-v-15ed1a64"]]);var jt=Ht;const qt=e=>((0,o.Qi)("data-v-7638962e"),e=e(),(0,o.jt)(),e),$t={id:"basicLayout"},Bt=qt((()=>(0,o.Lk)("a",{href:"https://github.com/Heart-fire",target:"_blank"},"天才是1%的灵感加上99%的汗水。——爱迪生",-1)));var Gt=(0,o.pM)({__name:"BasicLayout",setup(e){return(e,a)=>{const t=(0,o.g2)("a-layout-header"),l=(0,o.g2)("router-view"),n=(0,o.g2)("a-layout-content"),d=(0,o.g2)("a-layout-footer"),u=(0,o.g2)("a-layout");return(0,o.uX)(),(0,o.CE)("div",$t,[(0,o.bF)(u,{style:{height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(t,{class:"Header"},{default:(0,o.k6)((()=>[(0,o.bF)(jt)])),_:1}),(0,o.bF)(n,{class:"Content"},{default:(0,o.k6)((()=>[(0,o.bF)(l)])),_:1}),(0,o.bF)(d,{class:"footer"},{default:(0,o.k6)((()=>[Bt])),_:1})])),_:1})])}}});const Qt=(0,v.A)(Gt,[["__scopeId","data-v-7638962e"]]);var Jt=Qt;const Zt={id:"app"};var el=(0,o.pM)({__name:"App",setup(e){const a=(0,r.lq)(),t=C();return t.fetchLoginUser(),(e,t)=>{const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",Zt,[(0,n.R1)(a).path.startsWith("/user")?((0,o.uX)(),(0,o.Wv)(l,{key:0})):((0,o.uX)(),(0,o.Wv)(Jt,{key:1}))])}}});const al=el;var tl=al;const ll=(0,r.aE)({history:(0,r.LA)("/"),routes:yt});var ol=ll,nl=t(9541);ol.beforeEach((async(e,a,t)=>{const l=C();let o=l.loginUser;o&&o.userRole||(await l.fetchLoginUser(),o=l.loginUser);const n=e.meta?.access??y.NOT_LOGIN;n===y.NOT_LOGIN||(o&&o.userRole&&o.userRole!==y.NOT_LOGIN||t(`/user/login?redirect=${e.fullPath}`),Ft(o,n))?t():t("/noAuth")}));var dl=t(8165);const ul=(0,A.Ey)();(0,l.Ef)(tl).use(dl.A).use(ul).use(nl.A).use(ol).mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={exports:{}};return e[l].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var d=1/0;for(s=0;s<e.length;s++){l=e[s][0],o=e[s][1],n=e[s][2];for(var u=!0,r=0;r<l.length;r++)(!1&n||d>=n)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(u=!1,n<d&&(d=n));if(u){e.splice(s--,1);var i=o();void 0!==i&&(a=i)}}return a}n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,d=l[0],u=l[1],r=l[2],i=0;if(d.some((function(a){return 0!==e[a]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(r)var s=r(t)}for(a&&a(l);i<d.length;i++)n=d[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(s)},l=self["webpackChunkaitest_frontend"]=self["webpackChunkaitest_frontend"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(8525)}));l=t.O(l)})();
//# sourceMappingURL=app.21054798.js.map